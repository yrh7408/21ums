import{_ as v,E as f,o as E,c as C,a as e,w as a,b as p,g as y}from"./index-cb4e48ca.js";import{E as U}from"./el-overlay-1d94b4c5.js";import{a as P,b as w,E as D}from"./el-form-item-f6b9e70c.js";import{E as x,b as F}from"./index-d20eb06a.js";import{E as S}from"./el-popover-088d4a0a.js";import{E as k}from"./el-space-65f180e7.js";import{a as I}from"./index-96ba63c6.js";import{a as u}from"./ums_member_level-868d3fa7.js";import{E as O}from"./index-c18ef027.js";import"./el-switch-483ed374.js";import"./index-b083c78e.js";const L={components:{add:I},data(){return{json:{current:1,size:99},searchText:"",currentPage:1,pageSize:6,total:0,tableData:[],editDialogVisible:!1,editItem:{},selectedRow:null,form:{},addOpen:!1,searchVal:"",tableDateCopy:[],isUpdate:!1}},created(){this.getList()},methods:{add(){this.isUpdate=!1,this.addOpen=!0},update(r){this.isUpdate=!0,u.One(r.id).then(l=>{this.form=l.data.data.help,this.addOpen=!0})},search(){if(this.searchVal===""){this.tableData=this.tableDateCopy;return}let r=[];this.tableDateCopy.forEach(l=>{l.name.indexOf(this.searchVal)!==-1&&r.push(l)}),this.tableData=r},onSubmit(){(this.isUpdate?u.Edit(this.form):u.Add(this.form)).then(r=>{f({message:r.data.msg,type:"success"}),this.addOpen=!1,this.form={},this.getList()})},getList(){u.Page(this.json).then(r=>{console.log(r.data.data.page.records),this.tableData=r.data.data.page.records,this.tableDateCopy=r.data.data.page.records})},delete_levelList(r){u.Del(r.id).then(l=>{f({message:l.data.msg,type:"success"}),this.getList()})}}},z={class:"use_box"},B={class:"dialog-footer"};function M(r,l,T,G,t,m){const i=P,s=O,g=k,n=F,_=S,b=x,d=w,c=D,V=U;return E(),C("div",z,[e(i,{onInput:m.search,modelValue:t.searchVal,"onUpdate:modelValue":l[0]||(l[0]=o=>t.searchVal=o),placeholder:"请输入等级标题"},null,8,["onInput","modelValue"]),e(g,{style:{margin:"10px 0px"},size:r.size,spacer:"|"},{default:a(()=>[e(s,{onClick:m.add},{default:a(()=>[p(" 新增等级 ")]),_:1},8,["onClick"])]),_:1},8,["size"]),e(b,{border:"",data:t.tableData,stripe:"",style:{width:"100%"}},{default:a(()=>[e(n,{align:"center",prop:"name",label:"等级标题"}),e(n,{align:"center",prop:"commentGrowthPoint",label:"每次评价获取的成长值"}),e(n,{align:"center",prop:"defaultStatus",label:"是否为默认等级"}),e(n,{align:"center",prop:"freeFreightPoint",label:"免运费标准"}),e(n,{align:"center",prop:"priviledgeBirthday",label:"是否有生日特权"}),e(n,{align:"center",prop:"priviledgeComment",label:"是否有评论获奖励特权"}),e(n,{align:"center",prop:"priviledgeFreeFreight",label:"是否有免邮特权"}),e(n,{align:"center",prop:"priviledgeMemberPrice",label:"是否有会员价格特权"}),e(n,{align:"center",prop:"priviledgePromotion",label:"是否有专享活动特权"}),e(n,{align:"center",prop:"priviledgeSignIn",label:"是否有签到特权"}),e(n,{align:"center",prop:"phone",width:"300px",label:"操作"},{default:a(o=>[e(s,{size:"small",type:"success",onClick:h=>m.update(o.row)},{default:a(()=>[p("修改")]),_:2},1032,["onClick"]),e(_,{onConfirm:h=>m.delete_levelList(o.row),title:"确定删除此记录吗?"},{reference:a(()=>[e(s,{size:"small",type:"danger"},{default:a(()=>[p("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(V,{modelValue:t.addOpen,"onUpdate:modelValue":l[12]||(l[12]=o=>t.addOpen=o),title:"操作",width:"50%"},{footer:a(()=>[y("span",B,[e(s,{onClick:l[11]||(l[11]=o=>t.addOpen=!1)},{default:a(()=>[p("取 消")]),_:1}),e(s,{type:"primary",onClick:m.onSubmit},{default:a(()=>[p(" 提交 ")]),_:1},8,["onClick"])])]),default:a(()=>[e(c,{ref:"form",model:t.form,"label-width":"200px"},{default:a(()=>[e(d,{label:"等级标题"},{default:a(()=>[e(i,{modelValue:t.form.name,"onUpdate:modelValue":l[1]||(l[1]=o=>t.form.name=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"每次评价获取的成长值"},{default:a(()=>[e(i,{modelValue:t.form.commentGrowthPoint,"onUpdate:modelValue":l[2]||(l[2]=o=>t.form.commentGrowthPoint=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否为默认等级：0->不是；1->是"},{default:a(()=>[e(i,{modelValue:t.form.defaultStatus,"onUpdate:modelValue":l[3]||(l[3]=o=>t.form.defaultStatus=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"免运费标准"},{default:a(()=>[e(i,{modelValue:t.form.freeFreightPoint,"onUpdate:modelValue":l[4]||(l[4]=o=>t.form.freeFreightPoint=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否有生日特权"},{default:a(()=>[e(i,{modelValue:t.form.priviledgeBirthday,"onUpdate:modelValue":l[5]||(l[5]=o=>t.form.priviledgeBirthday=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否有评论获奖励特权"},{default:a(()=>[e(i,{modelValue:t.form.priviledgeComment,"onUpdate:modelValue":l[6]||(l[6]=o=>t.form.priviledgeComment=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否有免邮特权"},{default:a(()=>[e(i,{modelValue:t.form.priviledgeFreeFreight,"onUpdate:modelValue":l[7]||(l[7]=o=>t.form.priviledgeFreeFreight=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否有会员价格特权"},{default:a(()=>[e(i,{modelValue:t.form.priviledgeMemberPrice,"onUpdate:modelValue":l[8]||(l[8]=o=>t.form.priviledgeMemberPrice=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否有专享活动特权"},{default:a(()=>[e(i,{modelValue:t.form.priviledgePromotion,"onUpdate:modelValue":l[9]||(l[9]=o=>t.form.priviledgePromotion=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"是否有签到特权"},{default:a(()=>[e(i,{modelValue:t.form.priviledgeSignIn,"onUpdate:modelValue":l[10]||(l[10]=o=>t.form.priviledgeSignIn=o)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}const Y=v(L,[["render",M],["__scopeId","data-v-16fc1e04"]]);export{Y as default};
