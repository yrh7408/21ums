import{_ as w,E as c,o as _,e as y,w as n,a as t}from"./index-cb4e48ca.js";import{a as V,b,E as g}from"./el-form-item-f6b9e70c.js";import{E}from"./el-switch-483ed374.js";import{a}from"./index-d20eb06a.js";import{E as k}from"./index-b083c78e.js";let p;const m=()=>{p=k.service({lock:!0,text:"加载中...",spinner:"wave"})},u=()=>{p&&p.close()},v=async o=>{m();try{return await a.request({url:`/mall/ums-member/one/${o}`,method:"get"})}catch(e){throw e}finally{u()}},x=async o=>{m();try{return await a.request({url:`/mall/ums-member/del/${o}`,method:"get"})}catch(e){throw e}finally{u()}},q=async o=>{m();try{return await a.request({url:"/mall/ums-member/edit",method:"post",data:o})}catch(e){throw e}finally{u()}},U=async o=>{m();try{return await a.request({url:"/mall/ums-member/add",method:"post",data:o})}catch(e){throw e}finally{u()}},I=async o=>{m();try{return await a.request({url:"/mall/ums-member/page",method:"post",data:o})}catch(e){throw e}finally{u()}},d={One:v,Del:x,Edit:q,Add:U,Page:I},L={props:["flag","id"],created(){this.flag?this.form={nickname:"",username:"",password:"",phone:"",status:"1"}:d.One(this.id).then(o=>{this.form=o.data.data.help})},data(){return{json:{current:1,size:99},form:{nickname:"",username:"",password:"",phone:"",status:"1"}}},methods:{submit(){this.id===""||this.id===void 0?d.Add(this.form):d.Edit(this.form).then(o=>{c({message:o.data.msg,type:"success"}),this.form={nickname:"",username:"",password:"",phone:"",status:"1"}}).catch(o=>{c({message:"提交数据不能为空,或者数据重复",type:"error"})})}}};function A(o,e,B,F,s,O){const i=V,l=b,f=E,h=g;return _(),y(h,{ref:"form",model:s.form,"label-width":"120px"},{default:n(()=>[t(l,{label:"昵称"},{default:n(()=>[t(i,{modelValue:s.form.nickname,"onUpdate:modelValue":e[0]||(e[0]=r=>s.form.nickname=r)},null,8,["modelValue"])]),_:1}),t(l,{label:"账号"},{default:n(()=>[t(i,{modelValue:s.form.username,"onUpdate:modelValue":e[1]||(e[1]=r=>s.form.username=r)},null,8,["modelValue"])]),_:1}),t(l,{label:"密码"},{default:n(()=>[t(i,{modelValue:s.form.password,"onUpdate:modelValue":e[2]||(e[2]=r=>s.form.password=r)},null,8,["modelValue"])]),_:1}),t(l,{label:"手机号码"},{default:n(()=>[t(i,{modelValue:s.form.phone,"onUpdate:modelValue":e[3]||(e[3]=r=>s.form.phone=r)},null,8,["modelValue"])]),_:1}),t(l,{label:"启用状态"},{default:n(()=>[t(f,{"active-value":1,"inactive-value":0,modelValue:s.form.status,"onUpdate:modelValue":e[4]||(e[4]=r=>s.form.status=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}const N=w(L,[["render",A]]);export{N as a,d as b};
