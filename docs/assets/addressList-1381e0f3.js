import{_ as h,E as f,o as E,c as y,a as e,w as a,b as p,g as C}from"./index-f2ea6133.js";import{E as D}from"./el-overlay-ad8ea762.js";import{a as v,b as w,E as x}from"./el-form-item-66b1a363.js";import{E as U,b as k}from"./index-ed8c00ce.js";import{E as I}from"./el-popover-4e4e24c3.js";import{a as O}from"./index-cc675372.js";import{a as u}from"./ums_member_receive_address-88175da1.js";import{E as L}from"./index-40b7cd74.js";import"./el-switch-17596d63.js";import"./index-76b37135.js";const N={components:{add:O},data(){return{json:{current:1,size:99},searchText:"",currentPage:1,pageSize:6,total:0,tableData:[],editDialogVisible:!1,editItem:{},selectedRow:null,form:{},updateOpen:!1,searchVal:"",tableDateCopy:[]}},created(){this.getList()},methods:{search(){if(this.searchVal===""){this.tableData=this.tableDateCopy;return}let n=[];this.tableDateCopy.forEach(l=>{l.name.indexOf(this.searchVal)!==-1&&n.push(l)}),this.tableData=n},onSubmit(){u.Edit(this.form).then(n=>{f({message:n.data.msg,type:"success"}),this.updateOpen=!1,this.form={},this.getList()})},update_address(n){this.form=n,this.updateOpen=!0},getList(){u.Page(this.json).then(n=>{this.tableData=n.data.data.page.records,this.tableDateCopy=n.data.data.page.records})},delete_address(n){u.Del(n.id).then(l=>{f({message:l.data.msg,type:"success"}),this.getList()})}}},z={class:"use_box"},B={class:"dialog-footer"};function T(n,l,A,P,o,m){const r=v,s=k,i=L,_=I,c=U,d=w,b=x,V=D;return E(),y("div",z,[e(r,{onInput:m.search,modelValue:o.searchVal,"onUpdate:modelValue":l[0]||(l[0]=t=>o.searchVal=t),placeholder:"请输入会员名称"},null,8,["onInput","modelValue"]),e(c,{border:"",data:o.tableData,stripe:"",style:{width:"100%"}},{default:a(()=>[e(s,{align:"center",prop:"name",label:"收货人名称"}),e(s,{align:"center",prop:"phoneNumber",label:"收货人手机"}),e(s,{align:"center",prop:"province",label:"省"}),e(s,{align:"center",prop:"city",label:"市"}),e(s,{align:"center",prop:"region",label:"区"}),e(s,{align:"center",prop:"detailAddress",label:"详细地址"}),e(s,{align:"center",prop:"memberId",label:"绑定会员的id"}),e(s,{align:"center",prop:"phone",width:"300px",label:"操作"},{default:a(t=>[e(i,{size:"small",type:"success",onClick:g=>m.update_address(t.row)},{default:a(()=>[p("修改")]),_:2},1032,["onClick"]),e(_,{onConfirm:g=>m.delete_address(t.row),title:"确定删除此记录吗?"},{reference:a(()=>[e(i,{size:"small",type:"danger"},{default:a(()=>[p("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(V,{modelValue:o.updateOpen,"onUpdate:modelValue":l[8]||(l[8]=t=>o.updateOpen=t),title:"操作",width:"30%"},{footer:a(()=>[C("span",B,[e(i,{onClick:l[7]||(l[7]=t=>n.addOpen=!1)},{default:a(()=>[p("取 消")]),_:1}),e(i,{type:"primary",onClick:m.onSubmit},{default:a(()=>[p(" 提交 ")]),_:1},8,["onClick"])])]),default:a(()=>[e(b,{ref:"form",model:o.form,"label-width":"120px"},{default:a(()=>[e(d,{label:"收货人名称"},{default:a(()=>[e(r,{modelValue:o.form.name,"onUpdate:modelValue":l[1]||(l[1]=t=>o.form.name=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"收货人手机"},{default:a(()=>[e(r,{modelValue:o.form.phoneNumber,"onUpdate:modelValue":l[2]||(l[2]=t=>o.form.phoneNumber=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"省"},{default:a(()=>[e(r,{modelValue:o.form.province,"onUpdate:modelValue":l[3]||(l[3]=t=>o.form.province=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"市"},{default:a(()=>[e(r,{modelValue:o.form.city,"onUpdate:modelValue":l[4]||(l[4]=t=>o.form.city=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"区"},{default:a(()=>[e(r,{modelValue:o.form.region,"onUpdate:modelValue":l[5]||(l[5]=t=>o.form.region=t)},null,8,["modelValue"])]),_:1}),e(d,{label:"详细地址"},{default:a(()=>[e(r,{modelValue:o.form.detailAddress,"onUpdate:modelValue":l[6]||(l[6]=t=>o.form.detailAddress=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}const Q=h(N,[["render",T],["__scopeId","data-v-1521dad9"]]);export{Q as default};
