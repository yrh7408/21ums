import{a8 as F,b4 as le,aB as me,$ as ne,s as pe,aM as ve,L as x,aS as ye,a5 as ge,k as Z,bp as be,bq as Q,Y as j,b5 as he,br as Ce,b3 as we,aD as V,j as J,z as K,d as H,a as Y,P as X,p as h,n as Ee,H as ke,K as Te,aH as ee,bs as Se,l as O,o as $,c as q,g as U,M as w,N as t,t as Me,w as B,e as _,R as Be,O as De,f as G,Q as ae,U as re,bt as Ie,W as Le,ae as Pe,aT as oe,q as D,bu as $e,a3 as Oe,a2 as Fe,bv as Ae,bw as te,aL as Ne,X as se,aN as Re,a7 as ze,b8 as Ye,S as He,aP as We,ao as Ue,ap as Ve,aq as Xe,G as qe}from"./index-f2ea6133.js";import{U as ie}from"./el-form-item-66b1a363.js";const xe=(e,s)=>{if(!F)return!1;const o={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(s)],l=le(e,o);return["scroll","auto","overlay"].some(n=>l.includes(n))},bo=(e,s)=>{if(!F)return;let o=e;for(;o;){if([window,document,document.documentElement].includes(o))return window;if(xe(o,s))return o;o=o.parentNode}return o};let W;const je=e=>{var s;if(!F)return 0;if(W!==void 0)return W;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const l=o.offsetWidth;o.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",o.appendChild(n);const c=n.offsetWidth;return(s=o.parentNode)==null||s.removeChild(o),W=l-c,W};function ho(e,s){if(!F)return;if(!s){e.scrollTop=0;return}const o=[];let l=s.offsetParent;for(;l!==null&&e!==l&&e.contains(l);)o.push(l),l=l.offsetParent;const n=s.offsetTop+o.reduce((d,m)=>d+m.offsetTop,0),c=n+s.offsetHeight,i=e.scrollTop,a=i+e.clientHeight;n<i?e.scrollTop=n:c>a&&(e.scrollTop=c-e.clientHeight)}const Ke=(...e)=>s=>{e.forEach(o=>{me(o)?o(s):o.value=s})},_e=(e,s,o)=>{let l={offsetX:0,offsetY:0};const n=a=>{const d=a.clientX,m=a.clientY,{offsetX:f,offsetY:v}=l,r=e.value.getBoundingClientRect(),p=r.left,E=r.top,A=r.width,N=r.height,R=document.documentElement.clientWidth,I=document.documentElement.clientHeight,z=-p+f,L=-E+v,k=R-p-A+f,T=I-E-N+v,P=C=>{const u=Math.min(Math.max(f+C.clientX-d,z),k),b=Math.min(Math.max(v+C.clientY-m,L),T);l={offsetX:u,offsetY:b},e.value.style.transform=`translate(${x(u)}, ${x(b)})`},y=()=>{document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",P),document.addEventListener("mouseup",y)},c=()=>{s.value&&e.value&&s.value.addEventListener("mousedown",n)},i=()=>{s.value&&e.value&&s.value.removeEventListener("mousedown",n)};ne(()=>{pe(()=>{o.value?c():i()})}),ve(()=>{i()})},Ge=(e,s={})=>{ye(e)||ge("[useLockscreen]","You need to pass a ref param to this function");const o=s.ns||Z("popup"),l=be(()=>o.bm("parent","hidden"));if(!F||Q(document.body,l.value))return;let n=0,c=!1,i="0";const a=()=>{setTimeout(()=>{we(document==null?void 0:document.body,l.value),c&&document&&(document.body.style.width=i)},200)};j(e,d=>{if(!d){a();return}c=!Q(document.body,l.value),c&&(i=document.body.style.width),n=je(o.namespace.value);const m=document.documentElement.clientHeight<document.body.scrollHeight,f=le(document.body,"overflowY");n>0&&(m||f==="scroll")&&c&&(document.body.style.width=`calc(100% - ${n}px)`),he(document.body,l.value)}),Ce(()=>a())},ue=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let s=!1,o=!1;return{onClick:i=>{s&&o&&e(i),s=o=!1},onMousedown:i=>{s=i.target===i.currentTarget},onMouseup:i=>{o=i.target===i.currentTarget}}},Ze=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:K([String,Array,Object])},zIndex:{type:K([String,Number])}}),Je={click:e=>e instanceof MouseEvent},Qe="overlay";var eo=H({name:"ElOverlay",props:Ze,emits:Je,setup(e,{slots:s,emit:o}){const l=Z(Qe),n=d=>{o("click",d)},{onClick:c,onMousedown:i,onMouseup:a}=ue(e.customMaskEvent?void 0:n);return()=>e.mask?Y("div",{class:[l.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:i,onMouseup:a},[h(s,"default")],X.STYLE|X.CLASS|X.PROPS,["onClick","onMouseup","onMousedown"]):Ee("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[h(s,"default")])}});const oo=eo,ce=Symbol("dialogInjectionKey"),de=J({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:ke},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),to={close:()=>!0},so=["aria-label"],lo=["id"],no=H({name:"ElDialogContent"}),ao=H({...no,props:de,emits:to,setup(e){const s=e,{t:o}=Te(),{Close:l}=Ie,{dialogRef:n,headerRef:c,bodyId:i,ns:a,style:d}=ee(ce),{focusTrapRef:m}=ee(Se),f=Ke(m,n),v=O(()=>s.draggable);return _e(n,c,v),(r,p)=>($(),q("div",{ref:t(f),class:w([t(a).b(),t(a).is("fullscreen",r.fullscreen),t(a).is("draggable",t(v)),t(a).is("align-center",r.alignCenter),{[t(a).m("center")]:r.center},r.customClass]),style:ae(t(d)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:c,class:w(t(a).e("header"))},[h(r.$slots,"header",{},()=>[U("span",{role:"heading",class:w(t(a).e("title"))},Me(r.title),3)]),r.showClose?($(),q("button",{key:0,"aria-label":t(o)("el.dialog.close"),class:w(t(a).e("headerbtn")),type:"button",onClick:p[0]||(p[0]=E=>r.$emit("close"))},[Y(t(De),{class:w(t(a).e("close"))},{default:B(()=>[($(),_(Be(r.closeIcon||t(l))))]),_:1},8,["class"])],10,so)):G("v-if",!0)],2),U("div",{id:t(i),class:w(t(a).e("body"))},[h(r.$slots,"default")],10,lo),r.$slots.footer?($(),q("footer",{key:0,class:w(t(a).e("footer"))},[h(r.$slots,"footer")],2)):G("v-if",!0)],6))}});var ro=re(ao,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const io=J({...de,appendToBody:{type:Boolean,default:!1},beforeClose:{type:K(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Le(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},co=(e,s)=>{const l=Fe().emit,{nextZIndex:n}=Pe();let c="";const i=oe(),a=oe(),d=D(!1),m=D(!1),f=D(!1),v=D(e.zIndex||n());let r,p;const E=$e("namespace",Ae),A=O(()=>{const g={},M=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(g[`${M}-margin-top`]=e.top),e.width&&(g[`${M}-width`]=x(e.width))),g}),N=O(()=>e.alignCenter?{display:"flex"}:{});function R(){l("opened")}function I(){l("closed"),l(ie,!1),e.destroyOnClose&&(f.value=!1)}function z(){l("close")}function L(){p==null||p(),r==null||r(),e.openDelay&&e.openDelay>0?{stop:r}=te(()=>y(),e.openDelay):y()}function k(){r==null||r(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=te(()=>C(),e.closeDelay):C()}function T(){function g(M){M||(m.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(g):k()}function P(){e.closeOnClickModal&&T()}function y(){F&&(d.value=!0)}function C(){d.value=!1}function u(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function S(g){var M;((M=g.detail)==null?void 0:M.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&Ge(d);function fe(){e.closeOnPressEscape&&T()}return j(()=>e.modelValue,g=>{g?(m.value=!1,L(),f.value=!0,v.value=e.zIndex?v.value++:n(),Oe(()=>{l("open"),s.value&&(s.value.scrollTop=0)})):d.value&&k()}),j(()=>e.fullscreen,g=>{s.value&&(g?(c=s.value.style.transform,s.value.style.transform=""):s.value.style.transform=c)}),ne(()=>{e.modelValue&&(d.value=!0,f.value=!0,L())}),{afterEnter:R,afterLeave:I,beforeLeave:z,handleClose:T,onModalClick:P,close:k,doClose:C,onOpenAutoFocus:u,onCloseAutoFocus:b,onCloseRequested:fe,onFocusoutPrevented:S,titleId:i,bodyId:a,closed:m,style:A,overlayDialogStyle:N,rendered:f,visible:d,zIndex:v}},fo=["aria-label","aria-labelledby","aria-describedby"],mo=H({name:"ElDialog",inheritAttrs:!1}),po=H({...mo,props:io,emits:uo,setup(e,{expose:s}){const o=e,l=Ne();se({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},O(()=>!!l.title)),se({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},O(()=>!!o.customClass));const n=Z("dialog"),c=D(),i=D(),a=D(),{visible:d,titleId:m,bodyId:f,style:v,overlayDialogStyle:r,rendered:p,zIndex:E,afterEnter:A,afterLeave:N,beforeLeave:R,handleClose:I,onModalClick:z,onOpenAutoFocus:L,onCloseAutoFocus:k,onCloseRequested:T,onFocusoutPrevented:P}=co(o,c);Re(ce,{dialogRef:c,headerRef:i,bodyId:f,ns:n,rendered:p,style:v});const y=ue(z),C=O(()=>o.draggable&&!o.fullscreen);return s({visible:d,dialogContentRef:a}),(u,b)=>($(),_(Xe,{to:"body",disabled:!u.appendToBody},[Y(Ve,{name:"dialog-fade",onAfterEnter:t(A),onAfterLeave:t(N),onBeforeLeave:t(R),persisted:""},{default:B(()=>[ze(Y(t(oo),{"custom-mask-event":"",mask:u.modal,"overlay-class":u.modalClass,"z-index":t(E)},{default:B(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":u.title||void 0,"aria-labelledby":u.title?void 0:t(m),"aria-describedby":t(f),class:w(`${t(n).namespace.value}-overlay-dialog`),style:ae(t(r)),onClick:b[0]||(b[0]=(...S)=>t(y).onClick&&t(y).onClick(...S)),onMousedown:b[1]||(b[1]=(...S)=>t(y).onMousedown&&t(y).onMousedown(...S)),onMouseup:b[2]||(b[2]=(...S)=>t(y).onMouseup&&t(y).onMouseup(...S))},[Y(t(Ye),{loop:"",trapped:t(d),"focus-start-el":"container",onFocusAfterTrapped:t(L),onFocusAfterReleased:t(k),onFocusoutPrevented:t(P),onReleaseRequested:t(T)},{default:B(()=>[t(p)?($(),_(ro,He({key:0,ref_key:"dialogContentRef",ref:a},u.$attrs,{"custom-class":u.customClass,center:u.center,"align-center":u.alignCenter,"close-icon":u.closeIcon,draggable:t(C),fullscreen:u.fullscreen,"show-close":u.showClose,title:u.title,onClose:t(I)}),We({header:B(()=>[u.$slots.title?h(u.$slots,"title",{key:1}):h(u.$slots,"header",{key:0,close:t(I),titleId:t(m),titleClass:t(n).e("title")})]),default:B(()=>[h(u.$slots,"default")]),_:2},[u.$slots.footer?{name:"footer",fn:B(()=>[h(u.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):G("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,fo)]),_:3},8,["mask","overlay-class","z-index"]),[[Ue,t(d)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var vo=re(po,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Co=qe(vo);export{Co as E,oo as a,Ge as b,ue as c,bo as g,ho as s,_e as u};
